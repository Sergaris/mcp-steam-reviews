# Steam Reviews MCP Server

MCP-сервер для глубокого анализа отзывов Steam. Позволяет получать структурированные данные об отзывах с учетом игрового времени (playtime), полезности (helpfulness) и тональности (sentiment).

## Особенности

- **Стратифицированная выборка**: Балансирует отзывы между новичками и ветеранами.
- **Нейтрализация Bias**: Чередует положительные и отрицательные отзывы для объективного анализа моделью ИИ.
- **Анализ ветеранов**: Особое внимание уделяется негативным отзывам от игроков с большим стажем.
- **Метаданные для ИИ**: Каждый отзыв сопровождается контекстом (время в игре, дата, оценка полезности).

## Инструменты

### `get_game_reviews`
Получает структурированные отзывы о игре для анализа.
- `game_name`: Название игры.
- `count`: Количество отзывов (по умолчанию 40, делится поровну на POS/NEG).

## Установка

1. Склонируйте репозиторий.
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Запустите сервер:
   ```bash
   python server.py
   ```

## Использование в Cursor/Claude Desktop

Добавьте сервер в конфигурацию MCP:

```json
{
  "mcpServers": {
    "steam-reviews": {
      "command": "python",
      "args": ["/path/to/mcp-steam-reviews/server.py"]
    }
  }
}
```

## Почему может не быть отрицательных отзывов

Используются единые пороги: **playtime ≥ 2h**, **длина текста ≥ 50 символов**. Запрашиваются оба потока (positive и negative). У игр с очень высоким рейтингом после фильтрации негативная выборка может оказаться пустой — тогда в отчёте будут только положительные отзывы. Методика ревью задаётся промптом команды, а не блоком в отчёте MCP.

## Структура проекта

- `server.py`: Основной файл сервера FastMCP.
- `src/services/steam_service.py`: Логика взаимодействия со Steam API.
- `src/models/review.py`: Модели данных для отзывов.
- `src/config/settings.py`: Конфигурация, страты и пороги фильтрации.
